{% extends 'base.html.twig' %}

{% block title %}{{ etablissement.appellationOfficielle }}{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1>{{ etablissement.appellationOfficielle }}</h1>
        
        <div class="card mb-4">
            <div class="card-header">
                <h3>Informations générales</h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Numéro UAI :</strong> {{ etablissement.numeroUai }}</p>
                        <p><strong>Type :</strong> {{ etablissement.denominationPrincipale }}</p>
                        <p><strong>Secteur :</strong> {{ etablissement.secteur }}</p>

                        {% if etablissement.dateOuverture is defined %}
                            <p><strong>Date d'ouverture :</strong> {{ etablissement.dateOuverture|date('d/m/Y') }}</p>
                        {% endif %}

                        {% if etablissement.patronyme %}
                            <p><strong>Patronyme :</strong> {{ etablissement.patronyme }}</p>
                        {% endif %}
                        {% if etablissement.sigle %}
                            <p><strong>Sigle :</strong> {{ etablissement.sigle }}</p>
                        {% endif %}
                        {% if etablissement.ministere %}
                            <p><strong>Ministère :</strong> {{ etablissement.ministere }}</p>
                        {% endif %}
                    </div>
                    <div class="col-md-6">
                        <p><strong>Adresse :</strong> {{ etablissement.adresse }}</p>
                        <p><strong>Code postal :</strong> {{ etablissement.codePostal }}</p>
                        <p><strong>Commune :</strong> 
                            <a href="{{ path('app_etablissement_by_commune', {'codeCommune': etablissement.codeCommune}) }}">
                                {{ etablissement.commune }}
                            </a>
                        </p>
                        <p><strong>Département :</strong> 
                            <a href="{{ path('app_etablissement_by_departement', {'codeDepartement': etablissement.codeDepartement}) }}">
                                {{ etablissement.departement }}
                            </a>
                        </p>
                        <p><strong>Région :</strong> 
                            <a href="{{ path('app_etablissement_by_region', {'codeRegion': etablissement.codeRegion}) }}">
                                {{ etablissement.region }}
                            </a>
                        </p>
                        <p><strong>Académie :</strong> 
                            <a href="{{ path('app_etablissement_by_academie', {'codeAcademie': etablissement.codeAcademie}) }}">
                                {{ etablissement.academie }}
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <h3>Géolocalisation</h3>
            </div>
            <div class="card-body">
                <p><strong>Latitude :</strong> {{ etablissement.latitude }}</p>
                <p><strong>Longitude :</strong> {{ etablissement.longitude }}</p>
                <div id="map" style="height: 400px;" class="mb-3">
                    <div class="alert alert-info">
                        Une carte interactive sera intégrée ultérieurement pour visualiser l'emplacement de l'établissement.
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <h3>Commentaires</h3>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    La section commentaires sera développée ultérieurement.
                </div>
            </div>
        </div>
        
        <div class="mt-3">
            <a href="{{ path('app_etablissement_index') }}" class="btn btn-secondary">Retour à la liste</a>
        </div>
    </div>
{% endblock %}

